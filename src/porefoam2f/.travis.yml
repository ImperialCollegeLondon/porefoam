#TODO finish&test
language: cpp
sudo: false

matrix:
  include:
    - env:
        - COMPILER=g++
      addons:
        apt:
          packages:
            - g++
      os: linux
    #- env:
        #- COMPILER=clang++
      #os: osx

before_script:
 - echo compiler: ${COMPILER}
 - ${COMPILER} --version
 - echo "setting up msRoot sub-directories:"
 - export msRoot=${PWD}
 - mkdir src
 - mkdir thirdparty
 - mkdir -p  src/porefoam2f
 - mv * .[a-Z,0-9]*  src/porefoam2f/  2>/dev/null || true
 - git clone https://github.com/aliraeini/libvoxel src/libvoxel
 - git clone https://github.com/aliraeini/zlib thirdparty/zlib
 - git clone https://github.com/aliraeini/libtiff thirdparty/libtiff
 - git clone https://github.com/aliraeini/script src/script
 - mkdir resultsD1f

script: make -f src/script/Makefile.msRoot

after_script:
 - ./src/porefoam2f
